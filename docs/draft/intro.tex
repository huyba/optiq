\section{Introduction}
\label{sec:intro}
Simulation time in a supercomputer depends partially in achievable networking performance in the supercomputer. The achievable networking performance in its turn depends on the exact combination of communication patterns of applications and routing algorithms used by the supercomputer. For each communication pattern there exists routing algorithms resulting in high networking performance. However, while the communication patterns have wide spectrum and vary time to time, the routing algorithms have a limited variation and usually are optimized for typical communication patters. This results in high networking performance for favored communication patterns but low networking performance for other communication patterns. Low networking performance subsequentially leads to long simulation time. Reducing the communication time for these non-favored communication pattern reduces the running time of an application. Thus, improving the networking performance for these communication patterns are important in redecing simulation time. 

Most of the routing algorithms are designed to perform well for certain communication patterns. However, for other communication patterns, they do not perform as well usually due to the unblanced on physically links caused by changing in the communication patterns. Rebalancing loads on the physical links in these situations can lead to better achievable performance. 
In this work, we propose a set of approaches that improve network performance for applications in supercomputers by rebalancing the load on physical links. Our approaches include using both heuristic algorithms and formal models with mathematical solvers to search for paths to move data from a set of sources to a set of destinations. The data then be divided into smaller messages and put into queues to move along found paths. The actual data movement can be done by using any available libraries for communication on the supercompter. We realize our approaches in a framework called OPTIQ. Our framework allows to easily expand the our work by adding algorithms for search paths, different way to schedule data transfer and different way to transfer data. It also allow to extend the framwork to other systems.

Our contributions include:
\begin{itemize}
\item Bring an insight understanding of how networking happens in the Blue Gene/Q supercomputer. By experiments, we show patterns that current routing algorithms favor and what it doesn not and explain why it happens it that way.
\item Propose a set of approaches to improve networking throughput by taking advantage of unused links or balancing network on links. We also explain when each approach should be used ot result highest possible throughputs.
\end{itemize}

Our paper includes the follows. In the next section, we present previous works in optimizing or improving data movement in various supercomputers or computing systems. In section \ref{sec:system}, we give a brief introduction to Mira - a Blue Gene Q supercomputer that we used to run our experiments. Section \ref{sec:approach} is the main section, where we explain about our framework and details of our approaches for each component of the framework. We demonstrate the efficacy of our approaches via a set of benchmarks in section \ref{sec:benchmark}. In section \ref{sec:conclusion}, we conclude our work and give some ideas about future work.
