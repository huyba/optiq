\section{Related work}
\label{sec:relatedwork}

Improving data movement performance by balancing network load has been studied in previous works. In early work \cite{Valiant81:Routing}, Valiant proposed a randomized routing mechanism that was mathematically proved to be able to route data globally with no sharing links. However the routing mechanism did not work well in local routing as shown in \cite{singh2003:GOAL} by Signh et al. In the work of Pifarre et al \cite{Pifarre91}, authors proposed minimal routing optimization. However, it did not work well with global optimization. In order to address the limitation of both the approaches, in \cite{singh2003:GOAL} Sighn et al proposed GOAL – globally oblivious adaptive locally to balance load using adaptive routing algorithm for torus networks. In \cite{Rodriguez09}, Rodriguez et al proposed oblivious routing schemes in extended generalized fat tree networks. It extended two algorithms called S-mod-k and D-mod-k to provide a better oblivious solution for slimmed networks. 

Prisacari et al in \cite{Prisacari13a} showed that there is potential to optimize all-to-all collective exchange communication pattern at system level in fat tree networks and proved it mathematically and via simulations. The work is then extended in \cite{Prisacari13b} to propose a generic method to determine optimal pattern-specific routing for eXtended Generalized Fat Tree (XGFT). The method used a hybrid combination of integer linear programming (ILP) and dynamic programming. Interconnection network is divided into small subdomains and ILP is used for each subdomain. The local solution is then combined using dynamic programming. The proposed method takes up to several hours for several thousands of compute nodes interconnect network.

In Blue Gene Q, Chen et al \cite{Chen:BGQ} proposed a heuristic routing for Blue Gene/Q supercomputing systems. The routing path is computed dynamically at the routing time based on coordinates of source and destination, partition shape and message size. The systems route a packet along the longest dimension of a partition first, shortest last. BG/Q systems route a message using single path. Different messages however might be routed using different paths. In other supercomputers, Garcia et al in \cite{garcia2013:CrayDragonfly} proposed two deadlock-free routing mechanisms that support on-the-fly adaptive routing on Cray XC30 system for Dragonfly networks.

Some optimizations are done based on system’s specific characteristics such as \cite{Kumar:Allreduce} proposed optimization for MPI\_Allreduce in BG/Q based on the observation on number links and other hardware supports on compute nodes.

Our previous works in \cite{Vishwanath:GLEAN} and \cite{SDAV:Bui2014b} addressed a problem of data aggregation for I/O purposes very dense in I/O case. In these works, we proposed . In a more recent work \cite{hbui:bgq} we presented our approaches for improving the performance very sparse. 

In this paper, we propose a framework name OPTIQ, a realizaiton of our approaches in balancing network load using oblivious routing with multiple paths on top of system's routing. Our work in this paper differs from other works in the follows. While the previous works took the system routing and network topology into consideration, we improve the performance at the application space by taking both the application communication patterns and system routing, network topology into consideration. 

In the next section, we present an overview of the framework and functionalities of its components.
