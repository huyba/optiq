\documentclass[letter]{article}

\usepackage{fullpage}
\usepackage{url}

\usepackage{algorithmicx}
\usepackage{algorithm}
\usepackage{algpseudocode}

\title{Draft}

\begin{document}
\maketitle

\section{Introduction}
Achievalbe performance depends on the combination of communication patterns and routing algorithm being used.

Load balancing, routing, application communication patterns.

In this work, we propose a set of approaches that improve network performance for applications in Blue Gene/Q supercomputers. 

\section{Related work}
GOAL paper
Several bgq paper

\section{Experiment system}

\section{Approaches}

\subsection{Heuristic approaches}

\subsubsection{Heuristic 1}
In this approach, we search for paths to 

Centric algorithm, run at every node. Need information in advance.

%\begin{algorithm}[H]

%\begin{algorithmic}
%\KwData{Set of all pairs of source-destination \textit{s$_i$, d$_i$}, number of nodes \textit{n}}
%\KwResult{A path for each pair of source-destination}

%queue$<$struct path$>$ exploring\_paths;
%queue$<$struct path$>$ complete\_paths;

%Init:
%\For {0 $<=$ i, j $<$ \textit{n}} {visisted[i][j] = false;}

%\Function{add\_new\_path}{bool visited[][], int s$_i$, path op}
%\For {each neighbor v of s$_i$} {\
%        \If \({!visited[s$_i$][v]}\) {
%            create an arc \textit{a<s$_i$, v>} \;
%            create a path \textit{np = op} \;
%            enqueue arc \textit{a} to \textit{np} \;
%            enqueue \textit{np} to \textit{exploring\_paths} \;
%            \If{t is one of the destinations of s$_i$} {
%                enqueue \textit{np} to \textit{complete\_paths} \;
%            }
%            visited[s$_i$][v] = true \;
%            break\;
%        }
%    }
%\EndFunction


%Main algorithm:\

%\For{each source \textit{s$_i$}} {
%	check\_and\_add\_new\_path(s$_i$, null)
%    }
%}

%\While {(exploring\_path != empty)} {
%    path p = exploring\_paths.pop() \;
%    get the furthest point u of p \;
%    check\_and\_add\_new\_path(s$_i$, p)
%}

%\caption{Heuristic Alg I: Exploring all paths}

%\label{alg:h1}
%\end{algorithmic}
%\end{algorithm}

In the \textbf{Algorithm \ref{alg:h1}}, we start by adding 

\subsubsection{Heuristic 2}

\subsection{Formal approaches}

\subsubsection{Job-based formulation}
Present the approach

Explain the approach

Limitation, move the second one.

\subsubsection{Path-based formulation}
Present the approach, explain and see how it fixes the issues.

\subsection{OPTIQ framework}

\section{Benchmarks}

\subsection{Experimental }
\subsubsection{Chunk size for pipeline}
\subsubsection{Various message sizes}
\subsubsection{Many ranks}
\subsubsection{Scaling}

\subsection{Communication patterns}
In this paper we demostrate data movement performance of our OPTIQ framework and existing MPI's routines on the following communication patters:

\begin{itemize}
\item All to many, many to all
\item I/O Aggregation: a special case of All to many (or many to many)
\item Many to many: disjoint/exclusive
\item Many to many: subset
\item Many to many: partially joint (not subset, not disjoint)
\item Many to many: sparse
\item Nearest neighbors
\end{itemize}

\subsection{All to many or Many to all}

\section{Conclusion}

\end{document}
