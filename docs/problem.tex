\documentclass[letter]{article}

\usepackage{fullpage}
\usepackage{url}

%\author{Huy Bui \\
%unikey: \texttt{gwil0792}
%}
\title{OPTIQ: Problem Description, Approaches and Executing Steps}
%\date{\today}

\begin{document}
\maketitle

%\begin{table}[!th]
%\begin{tabular}{l p{0.8\textwidth}}
%Supervisor & Prof. Sanjay Chawla \\
%Project Title & Scalable Computational Methods for Estimating Commute Time and Diffusion Distance on Large Graphs \\
%Desk location & 4W-26 \\
%\end{tabular}
%\end{table}

%\begin{abstract}
%\end{abstract}

%\newpage
\section{Introduction}
This is to help define the problem of data movement and optimization.

\begin{itemize}
\item Problem description: Given data movement need in a cluster, minimize the total data movement time.
\item Inputs: 
\begin{itemize}
\item Data movement need: Each data movement request is described by a triple of (source, destination, demand), where demand is an amount of data needs to be transferred. There is a set of data movement requests for a set of sources to another set of destinations.
\item System information: compute/bridge/IO nodes coordination, IO nodes distribution, network routers location, bandwidth/capacity of each link in the system. 
\end{itemize}
\item Goal: To minimize the data tranferring time.
\end{itemize}

There are 3 level of problem solving that we are aiming to:
\begin{itemize}
\item Level 1: Current systems: to minize the time to solution
\item Level 2: Futuristic systems with hardware-supported QoS providing through software API: Given that the futuristic system may provide capability of QoS at each router i.e.
\item Level 3: Dynamic changes of data movement need at runtime with system capability of dynamic routing
\end{itemize}

In this project, we are aiming to solve the problem at Level 1 and Level 2.

\section {Systems to explore}
We will explore the following systems: 
\begin{itemize}
\item IBM Blue Gene Q - Mira.
\item Cray XE6 - Hopper
\item Cray XC30 - Edison
\item Others: other systems that use QoS or have different interconnection networks can be used such as Turkey or Blues. Those two system use InfiniBand interconnection network providing hardware supported QoS features.
\end{itemize}

\section{Project steps}

The project includes the main following steps:
\begin{itemize}
\item AMPL model to capture system information, data movement need and QoS.
\item Modeling system's interconnection network as a graph and modeling the data movement on it.
\item Optimizing data movement need using existing solvers.
\item Time slice data movement implementation.
\item Microbenmark and Calibration.
\item Experiment on data movement patterns from applications.
\end{itemize}

\subsection {AMPL model to capture all the }
In this step, we need to create a model to capture the system's interconnection network characteristics and data movement need. We choose to model the proble

\begin{itemize}
\item AMPL model to capture system information, data movement need
Single commodity flow. In this model, we assume that all the messages are the same type. They will be treated equally.
\begin{itemize}
\item Input:
\begin{itemize}
\item set Nodes: set of nodes.
\item set Arcs: set of arcs = Node cross Node.
\item parameter Capacity: the bandwidth on each link.
\item parameter Delay: delay at each node for message processing, injecting and receiving.
\item 
\end{itemize}
\item Output: the bandwith amount given for each job. The bandwidth is given for each job at the node that the job passes by. 
\end{itemize}

\item AMPL model to capture system information, data movement need and QoS 
Multiple commodity flow: In this model, we assume that there are various types of flows. Each types can be given a portion of the bandwidth of a link to transfer data. So the bandwidth here can be given different at each link? or we give them the same bandwidth porporition? If we allow different porportion, we likely have smaller data transferring time than if we do not allow.

The question here is: is this different from the previous one? We still model it, solve the model and get a proportional bandwidth for each flow.

The optimization objective is still to minimize the data transferring time.
\begin{itemize}
\item Input:
\begin{itemize}
\item set Types: set of types such as IO and COMM.
\item var weight: weigh given for each job at each link.
\end{itemize}

\end{itemize}
\end{itemize}

\subsection {Interconnection networks  modeling}
\begin{itemize}
\item Input:
\item Output:
\end{itemize}

\subsubsection{Teachnique large interconnection network  modeling}
\begin{itemize}
\item Do not include the part of the graph that we do not expect them to be involve into communicatio: if the communication happend between nodes within a rack/group we do not involve nodes that outside of that rack/group to reduce the size problem.
\item Graph partitioning technique: We partition a graph into subgraphs hierrachically.
\end{itemize}

\subsubsection{k-D interconnection networks}
There are 3D, 5D or even 6D interconnection network. In these interconnection networks, a compute node connects to its 6/10/12 (2k) neighbors. %This type of interconnection network does not scale well when the number of compute nodes increases the number of hops and links increase faster.

We can divided the interconnection network into set of (k-i)D paritions with i = 0..k.

\subsubsection{Hierarchical interconnection networks}
There are for tree-like interconnection network such as Fat Tree interconnection network or Dragonfly interconnection network. 

We can divide a parition of nodes into set of subgraphs based on the hierrachical structure of the network.

How do we model the node and link capacity on each. Given 2 set of nodes: set of source nodes in partition p1

Given 2 partition P1 and P2, with P1 has m node, and p2 has n nodes with l links of capacity C each between them. A set of k source nodes in P1 need to communicate with another set of l destination nodes on P2. We wil model all nodes in set P1 as a node, and all destination nodes in P2 as another node. The bandwidth between these link is (k+l)/(m+n)*l*C

Each rack/group can be considered as a node. If exist a direct connection between 2 group, we create an arc that connect the 2 nodes preseting the 2 groups. The capacity of that arc is proportional bandwidth the the link. We compute the capacity of that arc based on the number of nodes given for each group.

\subsection {Optimizing data movement need}
Two optimization set of tools can be used here:
\begin{itemize}
\item Proprietary software tools: IBM solvers. Can not be used directly on supercomputer nodes, have to you run from MCS machines.
\item Open source tools: free tools such as lpp. Also can be used directly on the supercomputers.
\end{itemize}

Input, output of this step:
\begin{itemize}
\item Output:
\item The
\end{itemize}
 
\subsection{Time slice data movement implementation}

\subsection{Microbenmark and Calibration}

We need to do microbenchmarks to see if our assumptions we made are valid or not. If not, then we need to calibrate them.

\subsection{Experiment on data movement patterns from applications}
\subsubsection{Communcation data movement patterns from CESM}
\subsubsection{Sparse IO pattern from HACC}
\subsubsection{Our fantasy data movement with concurrent I/O and communication}

\subsubsection{Experimental results and Evaluation}

\end{document}
