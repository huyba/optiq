\section{Introduction}
\label{sec:intro}
Simulation time in a supercomputer depends partially in achievable networking performance in the supercomputer. The achievable networking performance in its turn depends on the exact combination of communication patterns of applications and routing algorithms used by the supercomputer. For each communication pattern there exists routing algorithms resulting in optimal networking performance. However, while the communication patterns have wide spectrum and vary time to time, the routing algorithms have a limited variation and usually are optimized for typical communication patters. This results in high networking performance for favored communication patterns but low networking performance for other communication patterns. Low networking performance subsequently leads to long simulation time. Reducing the communication time for these non-favored communication patterns reduces the running time of the applications. Thus, improving the networking performance for these communication patterns are important in reducing simulation time. 

The low performance in non-favored communication patterns is due to the unbalanced on physically links caused by routing algorithms. Rebalancing loads on the physical links in these communication patterns can lead to better achievable performance. 

In this work, we focus on group communication, in which a set of M source nodes communicates with a set of N destination nodes. The M nodes can be disjoint from the set of N nodes as appearing in many applications. The can also be overlap such as in The Model Coupling Toolkit (MCT) of Community Earth System Model (CESM) applications \cite{MCT:Jacob}, or can be subset such as in I/O aggregation \cite{Vishwanath:GLEAN}. The pairing between nodes in the two sets can be aligned or can be non-aligned depending on the applications' patterns.

We propose two approaches that improve networking performance for applications in supercomputers by rebalancing the load on physical links. Our approaches include a heuristic algorithm and a formal model with mathematical solvers to search for paths to move data from a set of sources to a set of destinations. The data then is divided into smaller messages and put into queues to move along found paths. The actual data movement can be done by using any available libraries for communication on the supercomputer. We realize our approaches in a framework called OPTIQ. Our framework allows to easily expand our work by adding algorithms for path searching, different ways to schedule data transfer and different ways to transfer data. It also allows to extend the framework to other systems.

In the next section, we present previous works in improving and optimizing data movement in various supercomputers or computing systems. We then give a brief introduction of our framework OPTIQ in \ref{sec:framework}. The details of our approaches are presented in section \ref{sec:approach}. We demonstrate the efficacy of our approaches via a set of benchmarks in section \ref{sec:benchmark} and \ref{sec:cesm}. In section \ref{sec:conclusion}, we conclude our work and give some ideas about future work.
