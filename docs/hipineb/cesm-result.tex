We carried out the experiments communication between Coupler with Atmosphere, Land and Ocean.
The result of the expriment is shown in Table \ref{table:cesm_results} for 3 pairs of communication between CPL-ATM, CPL-LND and CPL-OCN. The throughputs are shown for different approaches Optmization (OPT), Heurisic (HEU) and MPI\_Alltoallv (MPI). We also show the total number of paths and the maximum, average number of paths per job for each approach.

\begin{table}[!htbp]
   \centering
    \begin{tabular}{| l | l | r | r | r | r |}
    \hline
    \multirow{3}{*}{Coupling} & \multirow{3}{*}{Type} & \multirow{3}{1cm}{BW (GB/s)} & \multicolumn{3}{ c| }{Num. of Paths} \\ \cline{4-6}
    & & & \multirow{2}{0.5cm}{Total Paths} & \multicolumn{2}{ c| }{Per Job} \\ \cline{5-6}
    & & & & {Max} & Avg \\ \hline
    \multirow{3}{*}{CPL-ATM} & OPT    & 352.24 & 3987 & 5 & 1.37 \\ \cline{2-6}
    & HEU & 327.66 & 15022 & 15 & 5.16 \\ \cline{2-6}
    & MPI    & 276.71 & 2911 & 1 & 1.00 \\ \hline
    \multirow{3}{*}{CPL-LND} & OPT    & 343.5 & 4004 & 7 & 1.38 \\ \cline{2-6}
    & HEU &  332.40 & 15107 & 14 & 5.19 \\ \cline{2-6}
    & MPI    & 278.90 & 2911 & 1 & 1.00 \\ \hline
    \multirow{3}{*}{CPL-OCN} & OPT    & 135.16 & 987 & 5 & 1.97 \\ \cline{2-6}
    & HEU &  136.06 & 5924 & 35 & 11.80 \\ \cline{2-6}
    & MPI    & 104.44 & 502 & 1 & 1.00 \\ \hline
    \end{tabular}
    \caption{Throughput, total number of paths, number of paths per job for 3 couplings in 512 nodes (4 ranks/node) experiments.}
    \label{table:cesm_results}
\end{table}

As shown in the Table \ref{table:cesm_results}, Optimization approach usually has the highest throughput, except for the CPL-OCN case, where Optimization approach and Heuristic approach have similar performance. The Heuristic approach usually has the second highest throughput. MPI has the lowest throughput. This is because MPI uses only one path to transfer data between 2 nodes. This leads to sharing links between pairs of communication comming from the same source node to the same destination nodes. Also the routing policy does not consider idle links and loads on neighbor links to balance the load. Both the factors lead to low performance in MPI. Heuritic approach employs the most number of paths, but due to the data assignment is not as optimal as Optimization approach, it still has lower performance. With the performance improved $~$30\% we can see that by using multipath we can rebalance network load and improve communication throughput.
